(window.webpackJsonp=window.webpackJsonp||[]).push([[78],{"5VK0":function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("kvW3"),o=t("oEt1"),s=t("fw5G"),i=t.n(s),c=t("eJMc"),u=t.n(c),l=t("17x9"),d=t.n(l),p=t("q1tI"),m=t.n(p),h=t("F/us"),f=t.n(h),b=t("wvdd"),S=t("hcqh"),g=t("FcrP"),v=t("m+mO"),y=t("xISu"),I=t("hOqv"),E=t("EWSN"),T=t("ZEYT"),w=t("NfOa"),F=t("ADs+"),x=t("cgZR"),P=t("Pzz+"),N=t("hN99"),C=t("0Q37"),O=t("CDw/"),j=t("iaxl"),q=t("KRcl"),k=t("8cuT"),R=t("+LJP"),D=t("pqXt"),B=t("BZ+2"),A=t("zFZo"),U=t("weTL"),L=t("oQ9N"),M=t("+7k1"),z=t("GP6s"),V=t.n(z),Q=t("PDuk"),W=t("nMHw"),X=t.n(W),J=P.d.limitPerPage,G=function(e){function ThreadDetail(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={canTeach:!1,inputClickCounter:0},t.fetchAnswerPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=t.props,n=r.answerId,a=r.questionId,o=r.courseId,s=r.courseSlug,c=r.userId,u=r.contextId,l=r.currentForum,d=r.currentForumUrl,p=r.sort,m=r.page,h=e||n;if(!h)return;var S=Object(Q.c)([o,h]);Object(C.b)(S,p,J).then(function(e){e===m?t.context.executeAction(b.b,{questionId:a,courseId:o,courseSlug:s,userId:c,contextId:u,sort:p,page:m,forumType:l&&l.forumType.typeName,includeDeleted:t.props.hasModerationRole}):t.context.router.replace({pathname:t.context.router.location.pathname,params:{},query:Object.assign(f.a.object(new i.a(t.context.router.location.search).queryPairs),{page:e})})}).fail(function(){var e=d;t.context.router.replace(Object(N.a)(e,a)),t.context.executeAction(b.b,{userId:c,courseId:o,courseSlug:s,contextId:u,questionId:a,sort:P.f.detailSort,page:P.f.detailPage,forumType:l&&l.forumType.typeName,includeDeleted:t.props.hasModerationRole})}).done()},t}n()(ThreadDetail,e);var t=ThreadDetail.prototype;return t.componentWillMount=function componentWillMount(){var e=this.props,t=e.questionId,r=e.sort,n=e.page,a=e.answerId,o=e.userId,s=e.courseId,i=e.courseSlug,c=e.contextId,u=e.currentForum;this.context.executeAction(b.d,{questionId:t,userId:o,contextId:c,sort:r,page:n,forumType:u&&u.forumType.typeName}),a||1===n&&r===P.f.detailSort||this.context.executeAction(b.b,{questionId:t,userId:o,courseId:s,courseSlug:i,contextId:c,sort:r,page:n,forumType:u&&u.forumType.typeName,includeDeleted:this.props.hasModerationRole})},t.componentDidMount=function componentDidMount(){this.getRole(),this.fetchAnswerPosition(),this._isMounted=!0},t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=e.questionId,r=e.userId,n=e.courseId,a=e.courseSlug,o=e.contextId,s=e.sort,i=e.page,c=e.currentForum;e.sort!==this.props.sort||e.page!==this.props.page?this.context.executeAction(b.b,{questionId:t,userId:r,courseId:n,courseSlug:a,contextId:o,sort:s,page:i,forumType:c&&c.forumType.typeName,includeDeleted:this.props.hasModerationRole}):this.props.answerSavingState===P.m.SAVING&&e.answerSavingState===P.m.SAVED&&(this.context.executeAction(b.b,{questionId:t,userId:r,courseId:n,courseSlug:a,contextId:o,sort:s,page:i,forumType:c&&c.forumType.typeName,includeDeleted:this.props.hasModerationRole}),this.context.router.push({pathname:window.location.pathname,params:{},query:{sort:P.c.newestSort}}))},t.componentDidUpdate=function componentDidUpdate(e,t,r){(e.questionId!==this.props.questionId||e.currentForum&&e.currentForum.id!==this.props.currentForum.id)&&this.markRead()},t.componentWillUnmount=function componentWillUnmount(){this._isMounted=!1},t.getRole=function getRole(){var e=this,t=this.props,r=t.authenticated,n=t.isSuperuser,a=t.currentForum,o=a&&a.forumType.definition.groupId;o?Object(q.a)(o,r,n).then(function(t){e._isMounted&&e.setState({canTeach:t})}):this.setState({canTeach:this.props.hasModerationRole})},t.getBackLinkDescription=function getBackLinkDescription(){return this.props.currentForum.title},t.markRead=function markRead(){O.a.markRead(this.props.questionId)},t.render=function render(){var e=this,t=this.props,r=t.question,n=t.isClosed,s=t.isPinned,i=t.currentForumUrl,c=t.currentForum,l=t.sort,d=t.page,p=t.questionId,h=t.answerId,f=t.latestNewThreadId,b=t.commentId,w=t.courseId,F=i,N=c&&c.forumType.typeName,C=P.j.mentorForumType,O=P.j.groupForumType,q=c&&[C,O].indexOf(N)<0,k=q,R=this.state.canTeach&&r&&q,D=r?Object(o.c)(r):"undefined-thread-legend",B=Object(j.a)();return m.a.createElement("div",{className:"rc-ThreadDetail"},r&&m.a.createElement("h2",{id:D,className:"screenreader-only"},m.a.createElement(a.b,{message:V()("Thread: {title}"),title:r.content.question})),R&&m.a.createElement(g.a,{isPinned:s,question:r}),f===p&&m.a.createElement("div",{className:"sr-only","aria-live":"polite"},m.a.createElement(a.b,{message:V()("Your new thread was created")})),m.a.createElement("div",{className:"discussion-content"},m.a.createElement("div",{className:"horizontal-box align-items-vertical-center align-items-spacebetween"},m.a.createElement(u.a,{to:this.props.backLink,className:"back-area nostyle"},m.a.createElement("div",{className:"horizontal-box align-items-vertical-center"},m.a.createElement("i",{className:"back-arrow cif-arrow-left c-back-arrow-image"}),m.a.createElement("h2",{className:"headline-2-text c-back-label"},this.getBackLinkDescription()))),this.state.canTeach&&r&&m.a.createElement(x.a,{question:r,shouldShowMoveThread:k})),m.a.createElement("div",{className:"frost-container"},m.a.createElement("div",null,m.a.createElement(S.a,{goToInput:function goToInput(){return e.setState({inputClickCounter:e.state.inputClickCounter+1})},question:r,isPinned:s,forumLink:F}),n&&m.a.createElement("div",{className:"c-thread-locked card-no-action color-secondary-text"},m.a.createElement("div",{className:"horizontal-box align-items-absolute-center"},m.a.createElement("i",{className:"cif-lock"}),V()("This thread is closed. You cannot add any more responses.")))),m.a.createElement("div",null,Object(M.a)(w,N)&&m.a.createElement(I.a,{answerId:h,commentId:b,forumLink:F,questionId:p,fetchAnswerPosition:this.fetchAnswerPosition}),r&&m.a.createElement(E.a,{page:d,sort:l,answerId:h,commentId:b,forumLink:F,questionId:p,fetchAnswerPosition:this.fetchAnswerPosition}),!n&&m.a.createElement("div",{className:"reply-container horizontal-box"},m.a.createElement(y.a,{fullName:B.get("fullName"),externalUserId:B.get("externalUserId"),profileImageUrl:B.getProfileImageUrl()}),r&&m.a.createElement(T.a,{question:r,parentPost:r,savingState:this.props.answerSavingState,shouldFocusCounter:this.state.inputClickCounter,ariaLabel:V()("Reply to this thread"),ariaDescribedBy:D})),r&&r.state&&r.state.deleted&&m.a.createElement(v.a,{entry:r,hideUndoDelete:!1})))))},ThreadDetail}(m.a.Component);G.propTypes={questionId:d.a.string.isRequired,sort:d.a.string.isRequired,page:d.a.number.isRequired,backLink:d.a.string.isRequired,authenticated:d.a.bool.isRequired,isSuperuser:d.a.bool.isRequired,answerSavingState:d.a.string,answerId:d.a.string,commentId:d.a.string,question:d.a.object,isClosed:d.a.bool,isPinned:d.a.bool,latestNewThreadId:d.a.string,contextId:d.a.string,userId:d.a.number,courseId:d.a.string,courseSlug:d.a.string,currentForum:d.a.oneOfType([d.a.instanceOf(B.a),d.a.instanceOf(A.a),d.a.instanceOf(U.a)]),currentForumUrl:d.a.string,hasModerationRole:d.a.bool},G.contextTypes={executeAction:d.a.func.isRequired,router:d.a.object.isRequired},e.a=f.a.compose(Object(k.a)(["ThreadDetailsStore","ThreadsStore","ThreadSettingsStore","CourseStore","ApplicationStore"],function(e,t){var r=e.ThreadDetailsStore,n=e.ThreadsStore,a=e.ThreadSettingsStore,o=e.CourseStore,s=e.ApplicationStore,i=t.questionId,c=r.getQuestion(i),u=n.threadToInsert&&n.threadToInsert.questionId;return{question:c,courseId:o.getCourseId(),courseSlug:o.getCourseSlug(),answerSavingState:c&&r.savingStates[c.id],isClosed:a.isClosed(),isPinned:a.isPinned(),latestNewThreadId:u,userId:s.getUserData().id,authenticated:s.isAuthenticatedUser(),isSuperuser:s.isSuperuser()}}),Object(L.a)({fields:["link","title"],subcomponents:[w.a,T.a,F.a]}),Object(R.a)(D.a))(G)},CSo3:function(module,e,t){"use strict";t.d(e,"c",function(){return s}),t.d(e,"a",function(){return i}),t.d(e,"b",function(){return c});var r=t("lSNA"),n=t.n(r),a=t("YDId"),o=t("sQ/U");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var s=function fetchSubscriptionForForum(e,t){var r=t.forumSubscriptionId,n=t.forumType;if(o.a.isAuthenticatedUser())return a.a(r,n).then(function(t){e.dispatch("UPDATE_SUBSCRIPTION",t)}).catch(function(t){e.dispatch("UPDATE_SUBSCRIPTION_FAILED",t)});return Promise.reject(new Error("User not authenticated"))},i=function addSubscription(e,t){var r=t.forumSubscriptionId,n=t.forumType;if(o.a.isAuthenticatedUser())return e.dispatch("UPDATE_SUBSCRIPTION",{id:r,isInProgress:!0}),a.b(r,n).then(function(){e.dispatch("UPDATE_SUBSCRIPTION",{id:r,isSubscribed:!0})}).catch(function(t){e.dispatch("UPDATE_SUBSCRIPTION_FAILED",t)});return Promise.reject(new Error("User not authenticated"))},c=function deleteSubscription(e,t){var r=t.subscription,n=t.forumSubscriptionId,s=t.forumType;if(o.a.isAuthenticatedUser())return e.dispatch("UPDATE_SUBSCRIPTION",_objectSpread(_objectSpread({},r),{},{isInProgress:!0})),a.c(n,s).then(function(){e.dispatch("UPDATE_SUBSCRIPTION",{id:n,isSubscribed:!1})}).catch(function(t){e.dispatch("UPDATE_SUBSCRIPTION_FAILED",t)});return Promise.reject(new Error("User not authenticated"))}},CWSf:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("w/1P"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("q1tI"),u=t.n(c),l=t("PaPT"),d=t("EkFp"),p=t("Pzz+"),m=t("GP6s"),h=t.n(m),f=t("oFFI"),b=t.n(f),S=p.k.mostRecentSort,g=p.k.popularSort,v=p.k.unansweredSort,y=function(e){function ControlsBar(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).handleChangeSort=function(e){var r=window.location.pathname+"?sort="+e.target.value+"&page=1";t.context.router.push(r)},t}var t;return n()(ControlsBar,e),ControlsBar.prototype.render=function render(){var e=o()("rc-ControlsBar","styleguide","horizontal-box","align-items-vertical-center",{"in-search-mode":this.props.inSearch});return u.a.createElement("div",{className:e},u.a.createElement("div",{className:"flex-2 shrink-block"},u.a.createElement("label",{htmlFor:"sortOrder",className:"label-text color-secondary-text sort-label"},h()("Sort By:")),u.a.createElement("select",{defaultValue:this.props.sort,id:"sortOrder",className:"color-secondary-text sort-select",onChange:this.handleChangeSort},u.a.createElement("option",{value:S},h()("Latest")),u.a.createElement("option",{value:g},h()("Top")),u.a.createElement("option",{value:v},h()("Unanswered")))),this.props.showSearchBox&&u.a.createElement(d.a,{previousElementId:"sortOrder",nextElementId:"new-thread-btn",animateToSearch:this.props.toggleSearch,animateFromSearch:this.props.toggleSearch}),u.a.createElement(l.b,null))},ControlsBar}(u.a.Component);y.propTypes={inSearch:i.a.bool.isRequired,toggleSearch:i.a.func.isRequired,sort:i.a.string,showSearchBox:i.a.bool},y.contextTypes={router:i.a.object.isRequired},y.defaultProps={sort:S,showSearchBox:!0},e.a=y},EkFp:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("q1tI"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("GP6s"),u=t.n(c),l=t("zRby"),d=t("kcfJ"),p=t("gn09"),m=t.n(p),h=function(e){function SearchBox(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={showBar:!1,query:""},t.handleQueryChange=function(e){t.setState({query:e})},t.handleFocus=function(){var e=t.props.animateToSearch;t.setState({showBar:!0}),e()},t.handleBlur=function(){var e=t.props.animateFromSearch;t.setState({showBar:!1}),e()},t.handleClear=function(){t.setState({query:""})},t.handleTab=function(e){var r=t.props.nextElementId,n=r&&document&&document.getElementById(r);n&&(e.preventDefault(),n.focus())},t.handleShiftTab=function(e){var r=t.props.previousElementId,n=r&&document&&document.getElementById(r);n&&(e.preventDefault(),n.focus())},t.submitSearch=function(){var e=t.state.query,r=t.context.router,n=r.location.pathname;if(e){var a=e.replace("*","");r.push({pathname:n,params:{},query:{q:a}})}},t}var t;return n()(SearchBox,e),SearchBox.prototype.render=function render(){var e=this.state,t=e.showBar,r=e.query;return t?o.a.createElement(l.a,{query:r,handleSubmit:this.submitSearch,handleChange:this.handleQueryChange,handleBlur:this.handleBlur,handleShiftTab:this.handleShiftTab,handleTab:this.handleTab,handleClear:this.handleClear,focus:!0}):o.a.createElement("div",{className:"rc-SearchBox expand-block flex-1"},o.a.createElement("div",{className:"large-screen search-bar"},o.a.createElement("div",{className:"input-area"},o.a.createElement(d.a,{trackingName:"search_box",onClick:this.handleFocus,onFocus:this.handleFocus,placeholder:u()("Search"),value:r,className:"search-box search-input","aria-label":"Search"})),o.a.createElement("button",{type:"button",className:"search-button hide",onClick:this.handleFocus,"aria-label":u()("expand search box")},o.a.createElement("i",{className:"cif-search"}))),o.a.createElement("div",{className:"mobile hide horizontal-box align-items-right"},o.a.createElement("button",{type:"button",className:"nostyle",onClick:this.handleFocus,"aria-label":u()("expand search box")},o.a.createElement("i",{className:"cif-search"}))))},SearchBox}(o.a.Component);h.contextTypes={router:i.a.object.isRequired},e.a=h},Fa2a:function(module,exports,e){},KsQM:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("q1tI"),o=t.n(a),s=t("MnCE"),i=t("17x9"),c=t.n(i),u=t("sQ/U"),l=t("CSo3"),d=t("AWZ4"),p=t("q5zD"),m=t("8cuT"),h=t("GP6s"),f=t.n(h),b=t("UaPE"),S=t.n(b),g=function(e){function SubscriptionButton(t,r){var n;return(n=e.call(this,t,r)||this).toggleSubscription=function(){var e=n.props,t=e.isSubscribed,r=e.forumType,a=e.subscription,o=e.forumSubscriptionId;t?(n.context.executeAction(l.b,{subscription:a,forumSubscriptionId:o,forumType:r}),n.setState({showSubscriptionDetails:!0,subscriptionDetails:f()("You will no longer receive emails whenever new threads are added.")})):(n.context.executeAction(l.a,{forumType:r,forumSubscriptionId:o}),n.setState({showSubscriptionDetails:!0,subscriptionDetails:f()("You will receive emails whenever new threads are added.")}))},n.state={subscriptionDetails:null,showSubscriptionDetails:!1},n}n()(SubscriptionButton,e);var t=SubscriptionButton.prototype;return t.componentDidMount=function componentDidMount(){var e=this.props,t=e.subscription,r=e.forumSubscriptionId,n=e.forumType;null!==t&&(t||this.context.executeAction(l.c,{forumType:n,forumSubscriptionId:r}))},t.componentDidUpdate=function componentDidUpdate(){var e=this.props,t=e.subscription,r=e.forumSubscriptionId,n=e.forumType;null!==t&&(t||this.context.executeAction(l.c,{forumType:n,forumSubscriptionId:r}))},t.render=function render(){var e=this.props,t=e.subscription,r=e.isSubscribed,n=e.hasError,a=e.isSubscriptionInProgress,s=this.state,i=s.showSubscriptionDetails,c=s.subscriptionDetails;return o.a.createElement("div",{className:"rc-SubscriptionButton horizontal-box vertical-when-mobile align-items-vertical-center"},o.a.createElement(d.b,{rootClassName:"subscription-button",type:"secondary",size:"sm",onClick:this.toggleSubscription,"aria-label":f()("Button"),disabled:!t},a?o.a.createElement(p.a,{name:"spinner",className:"cif-spin"}):t?r?f()("Unsubscribe"):f()("Subscribe"):null===t?f()("Error"):o.a.createElement(p.a,{name:"spinner",className:"cif-spin"})),!n&&i&&o.a.createElement("div",{className:"message caption-text"},c),n&&o.a.createElement("div",{className:"errorMessage"},f()("Sorry, something went wrong. Try again.")),i&&o.a.createElement("span",{className:"screenreader-only","aria-live":"polite"},t&&!a&&r?f()("Subscribed, You will receive emails whenever new threads are added."):f()("Unsubscribed, You will no longer receive emails whenever new threads are added.")))},SubscriptionButton}(o.a.Component);g.contextTypes={executeAction:c.a.func.isRequired},e.a=Object(s.compose)(Object(m.a)(["SubscriptionStore","CourseMembershipStore","CourseStore"],function(e,t){var r=e.SubscriptionStore,n=e.CourseMembershipStore,a=e.CourseStore,o=t.forumId,s=o&&o.split("~"),i=o&&"".concat(u.a.get().id,"~").concat(s[0],"~").concat(s[1]),c=u.a.isAuthenticatedUser();return{forumSubscriptionId:i,hasError:r.hasError(),subscription:c&&!r.hasError()?r.getSubscription(i):null,isSubscribed:c&&!r.hasError()?r.getIsSubscribed(i):null,isSubscriptionInProgress:c&&!r.hasError()?r.getIsSubscriptionInProgress(i):null}}))(g)},PaPT:function(module,e,t){"use strict";t.d(e,"a",function(){return B});var r=t("VbXa"),n=t.n(r),a=t("q1tI"),o=t.n(a),s=t("17x9"),i=t.n(s),c=t("F/us"),u=t.n(c),l=t("BVC1"),d=t("EdUP"),p=t("W1i5"),m=t("+LJP"),h=t("3JZf"),f=t("8cuT"),b=t("JPjw"),S=t("IDuc"),g=t("q5zD"),v=t("I4GC"),y=t("QT90"),I=t("E4Nz"),E=t("6B5c"),T=t("hN99"),w=t("h4VP"),F=t("GLvD"),x=t("Pzz+"),P=t("pqXt"),N=t("oQ9N"),C=t("GP6s"),O=t.n(C),j=t("uaFu"),q=t("344Z"),k=t.n(q),R=function(e){function NewThreadButton(t,r){var n;return(n=e.call(this,t,r)||this).handleSubmit=function(){var e=n.state,t=e.currentForum,r=e.activeFilterId,a=e.title,o=e.content,s=n.props,i=s.userId,c=s.filter,l=s.showSessionSelector,d=n.context.executeAction,p;if(u()(n.state).any(function(e){return e.hasError}))a.hasError?n.titleElemRef.focus():o.hasError?n.contentElemRef.focus():t.hasError&&n.forumElemRef.focus(),n.setState({showErrors:!0});else{var m={title:a.value,content:o.value,context:""};l?m.context=r:c&&(m.context=c.id);var h=!!m.context&&"all"!==m.context&&"ondemand"!==m.context,f={content:{question:m.title,details:m.content},overrideSessionId:h?m.context:void 0,state:{},userId:i,courseForumId:t.value.id,mentorForumId:t.value.id,groupForumId:t.value.id},b=t.value.forumId,S=t.value.forumType&&t.value.forumType.typeName;n.setState({saving:!0}),d(I.a,{options:f,forumType:S,forumId:b})}},n.handleDropdownChange=function(e){n.setState({activeFilterId:e})},n.handleOpenModal=function(){var e=n.props,t=e.userId,r=e.course,a=e.verificationDisplay;Object(E.a)(t,r,a).then(function(){return n.handleOpen()})},n.handleCancel=function(){n.setState(n.resetState())},n.handleCloseModal=function(){n.setState({showModal:!1})},n.handleInputChange=function(e,t){var r=n.state[e];r.value=t.value,r.hasError=!t.isValid,n.setState(function(e){return e})},n.clearErrorsAndSubmit=function(){n.setState({showErrors:!1}),setTimeout(function(){n.handleSubmit()},500)},n.setTitleElemRef=function(e){n.titleElemRef=e},n.setContentElemRef=function(e){n.contentElemRef=e},n.setForumElemRef=function(e){n.forumElemRef=e},n.state=n.resetState(),n.titleElemRef={},n.contentElemRef={},n.forumElemRef={},n}n()(NewThreadButton,e);var t=NewThreadButton.prototype;return t.componentWillReceiveProps=function componentWillReceiveProps(e){var t=this.props.threadSavingState,r;if(!this.state.saving){var n,a=this.props.currentForum,o=!a;this.setState({currentForum:{value:a,hasError:o}})}t===x.m.SAVING&&e.threadSavingState===x.m.SAVED?this.handleSaveSuccess(e.newThread):t===x.m.SAVING&&e.threadSavingState===x.m.ERROR&&this.handleSaveError()},t.handleSaveSuccess=function handleSaveSuccess(e){var t=this.context.router,r=this.state.currentForum,n=this.props.rootPath,a=l.a.join(n,r.value.link);t.push(Object(T.a)(a,e.questionId)),this.setState(this.resetState())},t.handleSaveError=function handleSaveError(){this.setState({saveError:!0,saveErrorMessage:O()("Something went wrong. Please reload the page and try again."),saving:!1})},t.handleOpen=function handleOpen(){var e=this.state.showModal;this.setState(function(){return{showModal:!e}})},t.resetState=function resetState(){var e,t=this.props.currentForum,r=!t;return{showModal:!1,title:{value:"",hasError:!0},content:{value:w.c.create("",x.a),hasError:!0},currentForum:{value:t,hasError:r},showErrors:!1,saving:!1,saveError:!1,saveErrorMessage:"",activeFilterId:""}},t.render=function render(){var e=this,t=this.state,r=t.showModal,n=t.saving,a=t.saveError,s=t.content,i=t.showErrors,c=t.title,l=t.currentForum,d=t.saveErrorMessage,p=this.props,m=p.courseId,h=p.showSessionSelector,f=p.rootForumId,I=p.forums,E=F.a.generateContentLengthWarning(s.value),T=o.a.createElement("div",{className:"error-text c-modal-error-message"},d),w=null,x=l.value,P=I.filter(function(e){return!e.parentForumId||e.parentForumId===f}),N=u()(P.map(function(e){return[e].concat(I.filter(function(t){return t.parentForumId===e.id}))})).flatten(),C;N.length&&(w=o.a.createElement("div",{className:"c-input-area"},o.a.createElement(j.a,{fieldName:O()("Forum")}),o.a.createElement(v.b,{id:"forum-selector",rootForumId:f,hasError:i&&l.hasError,handleInputChange:this.handleInputChange,forums:N,value:x,elemRefHook:this.setForumElemRef}))),h&&(C=o.a.createElement("div",{className:"context-selector-container"},o.a.createElement("div",{className:"bgcolor-divider bt3-pull-left section-divider"}),o.a.createElement("div",{className:"c-input-area"},o.a.createElement("h3",{className:"headline-1-text"},O()("You're currently viewing All Sessions.")),o.a.createElement("label",{htmlFor:"new-thread-sessions-switcher"},o.a.createElement("span",{className:"caption-text color-secondary-text"},O()("Which session should this thread go in?"))),o.a.createElement(y.a,{id:"new-thread-sessions-switcher",hideAllSessionsOption:!0,limitSwitchingToCurrentBranch:!0,dropup:!0,handleDropdownChange:this.handleDropdownChange}))));var q=o.a.createElement(b.a,{onRequestClose:this.handleCloseModal,modalName:O()("Create a new thread"),className:"rc-NewThreadModal large"},o.a.createElement("h1",{className:"c-modal-title headline-3-text"},O()("Create a new thread")),o.a.createElement("div",{className:"c-input-area"},o.a.createElement(j.a,{fieldName:O()("Title")}),o.a.createElement(v.c,{id:"title-input",hasError:i&&c.hasError,value:c.value,handleInputChange:this.handleInputChange,elemRefHook:this.setTitleElemRef})),o.a.createElement("div",{className:"c-input-area"},o.a.createElement(j.a,{fieldName:O()("Body")}),o.a.createElement(v.a,{id:"content-input",courseId:m,hasError:i&&s.hasError,handleInputChange:this.handleInputChange,cml:s.value,elemRefHook:this.setContentElemRef})),w,C,o.a.createElement("div",null,E,a&&T,o.a.createElement("div",{className:"horizontal-box align-items-right"},o.a.createElement("button",{type:"button",className:"passive",onClick:this.handleCancel},O()("Cancel")),"  ",o.a.createElement(S.a,{ref:function ref(t){e.submitButton=t},disabled:n,className:"secondary",type:"submit",onClick:this.clearErrorsAndSubmit,trackingName:"new_thread_create"},O()("Post")))));return o.a.createElement("div",{className:"rc-NewThreadForm shrink-block horizontal-box align-items-right"},o.a.createElement(S.a,{ref:function ref(t){e.newThreadButton=t},className:"c-new-thread-button secondary large-screen",id:"new-thread-btn",onClick:this.handleOpenModal,trackingName:"new_thread_button"},O()("New Thread")),o.a.createElement(S.a,{ref:function ref(t){e.newThreadButton=t},className:"nostyle align-right mobile hide",onClick:this.handleOpenModal,trackingName:"new_thread_button"},o.a.createElement(g.a,{name:"plus"})),r&&q)},NewThreadButton}(o.a.Component);R.contextTypes={executeAction:i.a.func.isRequired,router:i.a.object.isRequired};var D=u.a.compose(Object(f.a)(["SessionFilterStore","ThreadsStore","ApplicationStore","CourseMembershipStore","VerificationStore","CourseStore"],function(e,t){var r=e.SessionFilterStore,n=e.ThreadsStore,a=e.ApplicationStore,o=e.CourseMembershipStore,s=e.VerificationStore,i=e.CourseStore;return{showSessionSelector:(a.isSuperuser()||o.hasModerationRole())&&"all"===r.activeFilterQueryString,filter:r.activeFilter,threadSavingState:n.savingState,newThread:n.threadToInsert,userId:a.getUserData().id,verificationDisplay:s.getVerificationDisplay(),course:i.getMetadata(),courseId:i.getCourseId()}}),Object(N.a)({fields:["forumType","title","link"]}),Object(m.a)(P.a),Object(p.a)(function(e){var t=e.currentForum&&e.currentForum.forumType.typeName!==x.j.rootForumType&&e.currentForum||void 0,r=e.courseForums&&e.courseForums.find(function(e){return e.forumType.typeName===x.j.rootForumType});return{forums:e.courseForums?e.courseForums.filter(function(e){return e.forumType.typeName!==x.j.rootForumType}).concat(e.mentorForums).concat(e.groupForums):[],rootForumId:r&&r.id,currentForum:t,currentForumId:t&&t.id}}),Object(d.a)(function(e){return e.forums.length}))(R);e.b=Object(h.a)()(D);var B=D,A=R},Q1Gw:function(module,exports,e){},RYD2:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("w/1P"),o=t.n(a),s=t("CsdX"),i=t("q1tI"),c=t.n(i),u=t("eJMc"),l=t.n(u),d=t("F/us"),p=t.n(d),m=t("cIEV"),h=t.n(m),f=function emptyFunction(){},b=function(e){function Breadcrumbs(){return e.apply(this,arguments)||this}n()(Breadcrumbs,e);var t=Breadcrumbs.prototype;return t.getFilteredLinks=function getFilteredLinks(){var e;return this.props.links.slice().filter(d.identity)},t.render=function render(){var e=this.props,t=e.className,r=e.linkClassName,n=e.separator,a=e.separatorStyles,i=this.getFilteredLinks();return c.a.createElement("ol",{className:o()("rc-Breadcrumbs inline",t)},i.map(function(e,t){var o=[c.a.createElement("li",null,e.href?c.a.createElement(l.a,{className:r,to:e.href,onClick:e.onClick||f},e.label):c.a.createElement("span",{className:r},e.label))];return t!==i.length-1&&o.push(c.a.createElement("li",Object(s.d)("divider",a),n||"/")),o}))},Breadcrumbs}(c.a.Component);e.a=b},UVOs:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("F/us"),u=t.n(c),l=t("E4Nz"),d=t("CWSf"),p=t("WKvM"),m=t("PaPT"),h=t("N1Lp"),f=t("Pzz+"),b=t("hN99"),S=t("CDw/"),g=t("o3w6"),v=t("BZ+2"),y=t("zFZo"),I=t("weTL"),E=t("+LJP"),T=t("pqXt"),w=t("oQ9N"),F=t("EdUP"),x=t("8cuT"),P=t("GP6s"),N=t.n(P),C=t("JTnn"),O=t.n(C),j=t("N43y"),q=t.n(j),k=function(e){function ThreadsList(){for(var t,r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return(t=e.call.apply(e,[this].concat(n))||this).state={inSearch:!1},t.onPageChange=function(e){var r;t.context.router.push({pathname:t.context.router.location.pathname,params:{},query:Object.assign(t.context.router.location.query,{page:e})})},t.toggleSearch=function(){t.setState({inSearch:!t.state.inSearch})},t.renderEntry=function(e){var r=t.props,n=r.activeFilterQueryString,a=r.courseForums,o=r.mentorForums,s=r.groupForums,c=r.currentForum,u=r.currentForumUrl,l=e.lastAnsweredAt&&e.lastAnsweredBy,d=!S.a.hasUnread(e),p=l?e.lastAnsweredBy:e.creator,m=l?N()("Last post by"):N()("Created by"),f,g=a.concat(o).concat(s).find(function(t){return t.forumId===e.forumId}),v=g&&c.id!==g.id&&g.title||void 0,y=b.i(u,e),I,E=void 0!==e.answerCount&&!isNaN(e.answerCount)?e.answerCount:e.totalAnswerCount;return i.a.createElement(h.a,{key:e.id+n,threadUrl:y,profile:p,timestamp:e.lastAnsweredAt||e.createdAt,threadName:e.content.question,questionId:e.id,questionUserId:e.creatorId,entry:e,isPinned:!(!e.state||!e.state.pinned),isDeleted:!(!e.state||!e.state.deleted),isRead:d,forumName:v,metadataLabel:m,viewCount:Math.max(E,e.viewCount),answerCount:E,badge:e.answerBadge.answerBadge})},t}n()(ThreadsList,e);var t=ThreadsList.prototype;return t.componentWillMount=function componentWillMount(){var e=this.props,t=e.sort,r=e.page,n=e.currentForum,a=e.activeFilterQueryString;this.context.executeAction(l.c,{filterQueryString:a,sort:t,pageNum:r,forumType:n&&n.forumType.typeName,forumId:n&&n.id,userId:this.props.userId,includeDeleted:this.props.hasModerationRole})},t.componentWillUpdate=function componentWillUpdate(e,t,r){if(this.props.sort!==e.sort||this.props.page!==e.page||this.props.currentForumId!==e.currentForumId||this.props.activeFilterQueryString!==e.activeFilterQueryString){var n=this.props.currentForum;this.context.executeAction(l.c,{filterQueryString:e.activeFilterQueryString,sort:e.sort,pageNum:e.page,forumType:n&&n.forumType.typeName,forumId:n&&n.id,userId:this.props.userId,includeDeleted:this.props.hasModerationRole})}},t.render=function render(){var e=this.context.router.isActive({pathname:b.c()});return i.a.createElement("div",{className:"rc-ThreadsList styleguide horizontal-box"},i.a.createElement("div",{className:"flex-2"},i.a.createElement("div",{className:"card-rich-interaction"},i.a.createElement(d.a,{sort:this.props.sort,inSearch:this.state.inSearch,toggleSearch:this.toggleSearch,showSearchBox:!e}),i.a.createElement(p.a,{emptyStatePlaceholderText:N()("No Posts Yet"),fossilized:this.state.inSearch,loadingState:this.props.loadingState},this.props.entries&&this.props.entries.map(this.renderEntry))),i.a.createElement(g.a,{onPageChange:this.onPageChange,pageCount:this.props.pageCount,currentPage:this.props.page,maxPages:5})))},ThreadsList}(i.a.Component);k.propTypes={courseForums:o.a.arrayOf(o.a.instanceOf(v.a)),mentorForums:o.a.arrayOf(o.a.instanceOf(y.a)),groupForums:o.a.arrayOf(o.a.instanceOf(I.a)),currentForumId:o.a.string,currentForum:o.a.oneOfType([o.a.instanceOf(v.a),o.a.instanceOf(y.a),o.a.instanceOf(I.a)]),sort:o.a.string.isRequired,page:o.a.number.isRequired,entries:o.a.array,loadingState:o.a.oneOf(Object.keys(f.i)),pageCount:o.a.number,activeFilterQueryString:o.a.string,userId:o.a.number,hasModerationRole:o.a.bool,currentForumUrl:o.a.string},k.contextTypes={executeAction:o.a.func.isRequired,router:o.a.object.isRequired},e.a=Object(c.compose)(Object(x.a)(["SessionFilterStore","ThreadsStore","ApplicationStore"],function(e){var t=e.SessionFilterStore,r=e.ThreadsStore,n=e.ApplicationStore;return{activeFilterQueryString:t.activeFilterQueryString,entries:r.getThreadsPage(),loadingState:r.getLoadingState(),pageCount:r.getPageCount(),userId:n.getUserData().id}}),Object(w.a)({fields:["title","link","forumType"],subcomponents:[m.a]}),Object(E.a)(T.a),Object(F.a)(function(e){return!!(void 0!==e.activeFilterQueryString&&e.sort&&e.page&&e.currentForum)}))(k)},UaPE:function(module,exports,e){var t=e("wQw0"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},Ub7k:function(module,exports,e){var t=e("X6HL"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},"VS/1":function(module,e,t){"use strict";var r=t("q1tI"),n=t.n(r),a=t("yizN"),o=Object(a.b)("ChevronNextIcon",{ltr:{small:n.a.createElement(n.a.Fragment,null,n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.293 8L4.646 1.354l.708-.708L12.707 8l-7.353 7.354-.708-.707L11.293 8z",fill:"currentColor"})),medium:n.a.createElement(n.a.Fragment,null,n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.293 10L5.646 1.354l.708-.708L15.707 10l-9.353 9.354-.708-.707L14.293 10z",fill:"currentColor"})),large:n.a.createElement(n.a.Fragment,null,n.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M17.293 12L6.646 1.354l.708-.708L18.707 12 7.354 23.354l-.708-.707L17.293 12z",fill:"currentColor"}))}},!0);e.a=o},X6HL:function(module,exports,e){},YDId:function(module,e,t){"use strict";t.d(e,"a",function(){return a}),t.d(e,"b",function(){return o}),t.d(e,"c",function(){return s});var r=t("obES"),n=t("sQ/U"),a=function getForumSubscription(e,t){return r.a.getSubscription(e,t).then(function(e){return Object.assign(e.elements[0],{isSubscribed:!0})}).catch(function(t){if(404===t.status)return{id:e,isSubscribed:!1};throw t})},o=function subscribeUserToEntity(e,t){if(n.a.isAuthenticatedUser())return r.a.subscribe(e,t)},s=function unsubscribeUserFromEntity(e,t){if(n.a.isAuthenticatedUser())return r.a.unsubscribe(e,t)}},"a3+t":function(module,exports,e){},arLX:function(module,e,t){"use strict";var r=t("lSNA"),n=t.n(r),a=t("Pzz+");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){n()(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}e.a=function(e){if(!e.currentForum)return e;var t=e.courseForums.concat(e.mentorForums).concat(e.groupForums),r=t.find(function(e){return e.forumType.typeName===a.j.rootForumType}),n=e.currentForum;e.currentForum.parentForumId&&e.currentForum.parentForumId!==r.id&&(n=t.find(function(t){return t.id===e.currentForum.parentForumId}));var o=t.filter(function(e){return e.parentForumId===n.id});return o.unshift(n),_objectSpread(_objectSpread({},e),{},{listedForums:o,parentForumId:n.id})}},cIEV:function(module,exports,e){var t=e("Fa2a"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},gn09:function(module,exports,e){var t=e("v6PJ"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},jYk1:function(module,e,t){"use strict";var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("F/us"),u=t.n(c),l=t("w/1P"),d=t.n(l),p=t("eJMc"),m=t.n(p),h=t("BVC1"),f=t("BZ+2"),b=t("zFZo"),S=t("weTL"),g=t("+LJP"),v=t("pqXt"),y=t("W1i5"),I=t("hN99"),E=t("arLX"),T=t("oQ9N"),w=t("6fvP"),F=t("GP6s"),x=t.n(F),P=t("vJ/u"),N=t.n(P),C=function(e){function SubforumSidebar(t){var r;return(r=e.call(this,t)||this).resourcePanelEpic=w.b.enabledResourcePanelToPublic(),r}var t;return n()(SubforumSidebar,e),SubforumSidebar.prototype.render=function render(){var e=this,t=this.props,r=t.listedForums,n=t.currentForumId,a=t.parentForumId,o=t.courseSlug;if(!r||r.length<=1)return null;return i.a.createElement("div",{className:"rc-SubforumSidebar card-rich-interaction flex-1"},i.a.createElement("h2",{className:"subforums-list-title headline-1-text color-secondary-text"},x()("Subforums")),i.a.createElement("ul",{className:"nostyle"},r.map(function(t){var r=d()("forum-title",{"body-2-text":t.id===n,"body-1-text":t.id!==n}),s=h.a.join(Object(I.h)(o),t.link),c=Object(I.k)(t.forumId);return s=e.resourcePanelEpic&&c||s,i.a.createElement("li",{className:"subforum-entry"},i.a.createElement(m.a,{key:t.id,to:s,className:"nostyle","aria-current":t.id===n},t.id===n&&i.a.createElement("div",{className:"current-forum-indicator"}),i.a.createElement("div",{className:r},t.id===a?x()("All"):t.title)))})))},SubforumSidebar}(i.a.Component);C.propTypes={courseSlug:o.a.string,listedForums:o.a.arrayOf(o.a.oneOfType([o.a.instanceOf(f.a),o.a.instanceOf(b.a),o.a.instanceOf(S.a)])),currentForumId:o.a.string,parentForumId:o.a.string},e.a=u.a.compose(Object(T.a)({fields:["link","title","description","parentForumId"]}),Object(g.a)(v.a),Object(y.a)(E.a))(C)},ksNJ:function(module,exports,e){},nMHw:function(module,exports,e){var t=e("ksNJ"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},oFFI:function(module,exports,e){var t=e("a3+t"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},oRWh:function(module,e,t){"use strict";t.d(e,"a",function(){return y});var r=t("VbXa"),n=t.n(r),a=t("AeFk"),o=t("w/1P"),s=t.n(o),i=t("8Hdl"),c=t("fAYU"),u=t("VS/1"),l=t("CsdX"),d=t("q1tI"),p=t.n(d),m=t("eJMc"),h=t.n(m),f=t("F/us"),b=t.n(f),S=t("cIEV"),g=t.n(S),v=function emptyFunction(){},y=function(e){function Breadcrumbs(){return e.apply(this,arguments)||this}n()(Breadcrumbs,e);var t=Breadcrumbs.prototype;return t.getFilteredLinks=function getFilteredLinks(){var e;return this.props.links.slice().filter(f.identity)},t.render=function render(){var e=this.props,t=e.className,r=e.linkClassName,n=e.separator,o=e.separatorStyles,d=this.getFilteredLinks();return Object(a.c)("ol",{className:s()("rc-Breadcrumbs inline",t)},d.map(function(e,t){var s=[Object(a.c)(i.a,{component:"li"},e.href?Object(a.c)(c.a,{variant:"quiet",component:h.a,className:r,to:e.href},e.label):Object(a.c)("span",{className:r},e.label))];return t!==d.length-1&&s.push(Object(a.c)("li",Object(l.d)("divider",o),n||Object(a.c)(u.a,{size:"small"}))),s}))},Breadcrumbs}(p.a.Component)},oVXz:function(module,e,t){"use strict";t.d(e,"a",function(){return k});var r=t("pVnL"),n=t.n(r),a=t("VbXa"),o=t.n(a),s=t("oYk5"),i=t.n(s),c=t("17x9"),u=t.n(c),l=t("q1tI"),d=t.n(l),p=t("F/us"),m=t.n(p),h=t("fw5G"),f=t.n(h),b=t("w/1P"),S=t.n(b),g=t("L1vm"),v=t("Pzz+"),y=t("UVOs"),I=t("5VK0"),E=t("ypD2"),T=t("k01U"),w=t("8cuT"),F=t("+LJP"),x=t("ngyh"),P=t("UU2Q"),N=t("GP6s"),C=t.n(N),O=function(e){o()(DiscussionsBody,e);var t=DiscussionsBody.prototype;function DiscussionsBody(t,r){var n;return(n=e.call(this,t,r)||this).state={},!t.isSessionsFilterStoreSetup&&t.hasModerationRole&&r.executeAction(T.a,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),t.isSessionsFilterStoreSetup||t.hasModerationRole||r.executeAction(T.b,{courseId:t.courseId,currentSessionId:t.currentSessionId,isPrivateSession:t.isPrivateSession}),n}return t.getChildContext=function getChildContext(){return{fluxibleContext:this.context.fluxibleContext||this.props.fluxibleContext}},t.componentWillReceiveProps=function componentWillReceiveProps(e){!this.props.questionId&&e.questionId&&this.props.listPage?this.setState({previousListPage:this.props.listPage}):this.props.questionId!==e.questionId&&this.setState({previousListPage:null})},t.renderSearchResults=function renderSearchResults(){var e=this,t=this.props,r=t.searchPage,n=t.q;return d.a.createElement(E.a,{query:n,page:r,ref:function ref(t){e.searchResults=t}})},t.renderThreadsList=function renderThreadsList(){var e=this,t=this.props,r=t.hasModerationRole,n=t.listPage,a=t.listSort;return d.a.createElement(y.a,{ref:function ref(t){e.threadsList=t},hasModerationRole:r,sort:a,page:n})},t.renderThreadDetail=function renderThreadDetail(){var e=this,t=this.props,r=t.questionId,n=t.answerId,a=t.commentId,o=t.detailPage,s=t.detailSort,i=t.listSort,c=t.listPage,u=t.q,l=t.backLink,p=new f.a(l).addQueryParam("sort",i).addQueryParam("page",this.state.previousListPage||c).addQueryParam("q",u).toString();return d.a.createElement(I.a,{ref:function ref(t){e.threadDetail=t},questionId:r,answerId:n,commentId:a,sort:s,page:o,backLink:p})},t.render=function render(){var e=this.props.q,t=this.props,r=t.role,a=t.questionId;return d.a.createElement("div",n()({className:S()("rc-DiscussionsBody","styleguide",this.props.className),id:"discussions-tabpanel","aria-label":C()("Discussions")},r?{role:r}:{}),a&&this.renderThreadDetail(),!a&&(e?this.renderSearchResults():this.renderThreadsList()))},DiscussionsBody}(d.a.Component);O.propTypes={backLink:u.a.string,className:u.a.string,questionId:u.a.string,answerId:u.a.string,commentId:u.a.string,sort:u.a.string,page:u.a.number,detailSort:u.a.string,detailPage:u.a.number,listSort:u.a.string,listPage:u.a.number,q:u.a.string,searchPage:u.a.number,fluxibleContext:u.a.object,courseId:u.a.string,currentSessionId:u.a.string,hasModerationRole:u.a.bool,isPrivateSession:u.a.bool,isSessionsFilterStoreSetup:u.a.bool},O.contextTypes={router:u.a.object.isRequired,fluxibleContext:u.a.object,executeAction:u.a.func.isRequired},O.childContextTypes={fluxibleContext:u.a.object},O.defaultProps={detailSort:v.f.detailSort,detailPage:v.f.detailPage,listSort:v.f.listSort,listPage:v.f.listPage};var j=function getPropsFromRouter(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.params,n=e.location.query,a=r.question_id||t.questionId,o=n.page?parseInt(n.page,10):1,s={answerId:r.answer_id||t.answerId,questionId:a,commentId:r.comment_id||t.commentId,sort:n.sort,page:o};return a?Object.assign(s,{detailSort:n.sort,detailPage:o}):n.q?Object.assign(s,{q:n.q,searchPage:o}):Object.assign(s,{listSort:n.sort,listPage:o}),s},q=Object(p.compose)(Object(w.a)(["SessionFilterStore","SessionStore","CourseStore","CourseMembershipStore","ApplicationStore"],function(e,t){var r=e.SessionFilterStore,n=e.SessionStore,a=e.CourseStore,o=e.CourseMembershipStore,s=e.ApplicationStore;return{hasModerationRole:o.hasModerationRole()||s.isSuperuser(),isSessionsFilterStoreSetup:r.filtersLoaded,currentSessionId:n.isEnrolled()?n.getSessionId():void 0,courseId:a.getCourseId(),isPrivateSession:!!n.isEnrolled()&&n.isSessionPrivate()}}),Object(F.a)(j),g.a.createTrackedContainer(function(e){return{sort:e.sort,page:e.page}}))(O),k=function(e){function FluxibleConnectedDiscussionsBody(){return e.apply(this,arguments)||this}o()(FluxibleConnectedDiscussionsBody,e);var t=FluxibleConnectedDiscussionsBody.prototype;return t.componentWillMount=function componentWillMount(){this.fluxibleContext=Object(P.a)(this.context.fluxibleContext)},t.render=function render(){return d.a.createElement(x.a,{context:this.fluxibleContext.getComponentContext()},d.a.createElement(q,this.props))},FluxibleConnectedDiscussionsBody}(d.a.Component);k.contextTypes={fluxibleContext:u.a.object}},obES:function(module,e,t){"use strict";var r=t("S+eF"),n=t.n(r),a=t("CWYE"),o=t("Pzz+"),s=Object(a.a)("/api/onDemandCourseForumSubscriptions.v1",{type:"rest"}),i=Object(a.a)("/api/onDemandMentorForumSubscriptions.v1",{type:"rest"}),c=Object(a.a)("/api/groupForumSubscriptions.v1",{type:"rest"}),u=function getSubscription(e,t){return t===o.j.mentorForumType?n()(i.get(e)):t===o.j.groupForumType?n()(c.get(e)):n()(s.get(e))},l=function subscribe(e,t){return t===o.j.mentorForumType?n()(i.put(e)):t===o.j.groupForumType?n()(c.put(e)):n()(s.put(e))},d=function unsubscribe(e,t){return t===o.j.mentorForumType?n()(i.delete(e)):t===o.j.groupForumType?n()(c.delete(e)):n()(s.delete(e))};e.a={getSubscription:u,subscribe:l,unsubscribe:d}},v6PJ:function(module,exports,e){},"vJ/u":function(module,exports,e){var t=e("Q1Gw"),r;"string"==typeof t&&(t=[[module.i,t,""]]);var n={transform:void 0},a=e("aET+")(t,n);t.locals&&(module.exports=t.locals)},vkTq:function(module,e,t){"use strict";t.r(e);var r=t("VbXa"),n=t.n(r),a=t("17x9"),o=t.n(a),s=t("q1tI"),i=t.n(s),c=t("F/us"),u=t.n(c),l=t("BVC1"),d=t("oVXz"),p=t("hN99"),m=t("7GkZ"),h=t("zfwB"),f=t("KsQM"),b=t("STl7"),S=t("jYk1"),g=t("UVOs"),v=t("5VK0"),y=t("ypD2"),I=t("pqXt"),E=t("arLX"),T=t("Pzz+"),w=t("oQ9N"),F=t("BZ+2"),x=t("zFZo"),P=t("weTL"),N=t("W1i5"),C=t("+LJP"),O=t("GP6s"),j=t.n(O),q=t("Ub7k"),k=t.n(q),R=t("6fvP"),D=function(e){function ThreadsView(t){var r;return(r=e.call(this,t)||this).resourcePanelEnabled=R.b.enabledResourcePanelToPublic(),r}n()(ThreadsView,e);var t=ThreadsView.prototype;return t.renderSubscriptionButton=function renderSubscriptionButton(){var e=this.props.currentForum;if(!e||e.forumType.typeName===T.j.itemForumType)return null;return i.a.createElement("div",{className:"flex-1"},i.a.createElement(f.a,{forumId:this.props.currentForum&&this.props.currentForum.id,forumType:this.props.currentForum&&this.props.currentForum.forumType.typeName,groupId:this.props.currentForum&&this.props.currentForum.forumType.definition.groupId}))},t.render=function render(){var e=this.props.currentForum;if(!e)return i.a.createElement("div",{className:"forum-name headline-5-text color-primary-text"},j()("Oops! Looks like this thread isn't viewable or does not exist."));var t=e.parentForumId&&this.props.listedForums.find(function(t){return e.parentForumId===t.id}),r=e.title,n=e.description,a=e.id,o=l.a.join(Object(p.h)(this.props.courseSlug),e.link);if(!0===this.resourcePanelEnabled){var s,c=(this.context&&this.context.router&&this.context.router.params).forum_id;c&&(o=Object(p.k)(c))}var u=[{label:j()("Discussion Forums"),href:Object(p.f)()},t?{label:t.title,href:l.a.join(Object(p.h)(this.props.courseSlug),t.link)}:void 0],f=!!this.context.router.params.question_id;return i.a.createElement("div",{className:"rc-ThreadsView"},i.a.createElement("div",{className:"horizontal-box vertical-when-tablet"},i.a.createElement("div",{className:"flex-2 threads-view-header"},i.a.createElement(h.a,{className:"breadcrumbs",links:u}),i.a.createElement("div",null,i.a.createElement("h1",{className:"forum-name headline-5-text color-primary-text"},r),!f&&i.a.createElement("div",{className:"forum-description horizontal-box align-items-vertical-center vertical-when-mobile"},i.a.createElement(m.a,{className:"body-1-text",cml:n}),i.a.createElement("div",null,this.renderSubscriptionButton())))),i.a.createElement("div",{className:"flex-1 align-self-end session-switcher-container"},i.a.createElement(b.a,null))),i.a.createElement("div",{className:"horizontal-box align-items-top vertical-when-tablet"},i.a.createElement(d.a,{className:"flex-2 discussions-body-column",key:a,backLink:o}),i.a.createElement(S.a,null)))},ThreadsView}(i.a.Component);D.propTypes={currentForum:o.a.oneOfType([o.a.instanceOf(F.a),o.a.instanceOf(x.a),o.a.instanceOf(P.a)]),listedForums:o.a.arrayOf(o.a.oneOfType([o.a.instanceOf(F.a),o.a.instanceOf(x.a),o.a.instanceOf(P.a)])),courseSlug:o.a.string},D.contextTypes={router:o.a.object.isRequired},e.default=Object(c.compose)(Object(w.a)({fields:["title","description","link"],subcomponents:[S.a,g.a,v.a,y.a]}),Object(C.a)(I.a),Object(N.a)(E.a))(D)},wQw0:function(module,exports,e){},zfwB:function(module,e,t){"use strict";var r=t("RYD2"),n=t("oRWh");t.d(e,"a",function(){return n.a});var a=r.a}}]);
//# sourceMappingURL=78.a7da64ac622f4eec830a.js.map